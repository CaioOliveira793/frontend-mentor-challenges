{"version":3,"sources":["webpack:///./src/components/Search/styles.ts","webpack:///./src/components/Search/index.tsx","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./src/components/Dropdown/styles.ts","webpack:///./src/components/Dropdown/index.tsx","webpack:///./src/components/CountryCard/styles.ts","webpack:///./src/components/CountryCard/index.tsx","webpack:///./src/pages/index.tsx"],"names":["Container","styled","div","theme","value","borderRadius","colors","elements","shadow","text","Input","input","Search","initialValue","onSearchValueChange","debounce","className","rest","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","inputRef","useRef","timeoutIdRef","handleSearchChange","useCallback","current","clearTimeout","setTimeout","handleFocus","focus","useEffect","onClick","size","ref","onChange","SelectionBox","Option","span","Dropdown","label","list","initialListItemIndex","onSelectedValueChange","useState","visible","setVisible","index","activeItem","setActiveItem","containerRef","handleOpenSelectionBox","handleCloseSelectionBox","blur","handleSelectItem","onFocus","onBlur","tabIndex","map","scroll","Name","strong","Flag","img","StyledInfo","Info","CountryCard","countryName","flagURL","population","region","capital","src","alt","infoKey","infoValue","StyledSearch","SearchContainer","maxPageWidth","CountryCardContainer","StyledLink","Link","StyledCountryCard","regions","regionsToIndex","africa","americas","asia","europe","oceania","Home","location","countryDataState","setCountryDataState","params","searchParams","URLSearchParams","search","searchRegion","get","name","match","undefined","a","countriesAPI","response","data","loadCountries","handleSearchValueChange","searchValue","handleDropdownSelectionChange","selectedValue","Header","placeholder","type","countryData","to","alpha3Code","toLowerCase","flag"],"mappings":"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","file":"component---src-pages-index-tsx-5e7097733defe49376a3.js","sourcesContent":["import { HTMLProps } from \"react\";\nimport styled, { StyledFunction } from \"styled-components\";\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\tflex-basis: 460px;\n\talign-items: center;\n\tjustify-content: flex-start;\n\n\tmax-width: 460px;\n\twidth: 100%;\n\theight: 60px;\n\tpadding: 18px 20px;\n\tborder-radius: ${({ theme }) => theme.value.borderRadius};\n\n\tbackground: ${({ theme }) => theme.value.colors.elements};\n\tbox-shadow: ${({ theme }) => theme.value.shadow};\n\n\t> svg {\n\t\tmargin-left: 10px;\n\n\t\tcolor: ${({ theme }) => theme.value.colors.text};\n\t}\n`;\n\nexport const Input = styled.input`\n\tdisplay: flex;\n\tflex-basis: 100%;\n\t\n\tmargin-left: 28px;\n\n\tbackground: transparent;\n\tcolor: ${({ theme }) => theme.value.colors.text};\n\n\t::placeholder {\n\t\tcolor: ${({ theme }) => theme.value.colors.text};\n\t}\n`;\n","import React, { InputHTMLAttributes, useCallback, useEffect, useRef } from 'react';\nimport { FaSearch } from 'react-icons/fa';\n\nimport { Container, Input } from './styles';\n\ninterface SearchProps extends InputHTMLAttributes<HTMLInputElement> {\n\tinitialValue?: string;\n\tdebounce?: number;\n\tonSearchValueChange: (value: string) => void;\n}\n\nconst Search: React.FC<SearchProps> = (({ initialValue, onSearchValueChange, debounce, className, ...rest }) => {\n\tconst inputRef = useRef<HTMLInputElement>(null);\n\tconst timeoutIdRef = useRef(-1);\n\n\tconst handleSearchChange = useCallback(() => {\n\t\tif (!debounce) {\n\t\t\tonSearchValueChange(inputRef.current!.value);\n\t\t\treturn;\n\t\t}\n\n\t\tif (timeoutIdRef.current !== -1) clearTimeout(timeoutIdRef.current);\n\n\t\ttimeoutIdRef.current = setTimeout(() => {\n\t\t\tonSearchValueChange(inputRef.current!.value);\n\n\t\t\ttimeoutIdRef.current = -1;\n\t\t}, debounce);\n\t}, [onSearchValueChange, debounce, timeoutIdRef, inputRef]);\n\n\tconst handleFocus = useCallback(() => {\n\t\tinputRef.current?.focus();\n\t}, [inputRef]);\n\n\tuseEffect(() => {\n\t\tif (initialValue) inputRef.current!.value = initialValue;\n\t}, [initialValue]);\n\n\n\treturn (\n\t\t<Container className={className} onClick={handleFocus}>\n\t\t\t<FaSearch size={22} />\n\t\t\t<Input\n\t\t\t\tref={inputRef}\n\t\t\t\tonChange={handleSearchChange}\n\t\t\t\t{...rest}\n\t\t\t/>\n\t\t</Container>\n\t)\n});\n\nexport default Search;\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import styled, { DefaultTheme, StyledComponentProps } from 'styled-components';\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\tflex-basis: 200px;\n\talign-items: center;\n\tjustify-content: flex-start;\n\tposition: relative;\n\n\tmax-width: 200px;\n\tflex-shrink: 0;\n\twidth: 100%;\n\theight: 60px;\n\tpadding: 18px 20px;\n\tborder-radius: ${({ theme }) => theme.value.borderRadius};\n\n\tbackground: ${({ theme }) => theme.value.colors.elements};\n\tbox-shadow: ${({ theme }) => theme.value.shadow};\n\n\tcursor: pointer;\n\n\t> label {\n\t\tcolor: ${({ theme }) => theme.value.colors.text};\n\n\t\tpointer-events: none;\n\t}\n\n\t> svg {\n\t\tposition: absolute;\n\t\tleft: 160px;\n\n\t\tcolor: ${({ theme }) => theme.value.colors.text};\n\n\t\tpointer-events: none;\n\t}\n`;\n\nexport const SelectionBox = styled.div`\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\tflex-basis: 200px;\n\talign-items: flex-start;\n\tjustify-content: center;\n\t\n\tposition: absolute;\n\tleft: 0;\n\ttop: 64px;\n\tz-index: 10;\n\n\twidth: 100%;\n\tpadding: 8px 0px;\n\tborder-radius: ${({ theme }) => theme.value.borderRadius};\n\n\tbackground: ${({ theme }) => theme.value.colors.elements};\n\tbox-shadow: ${({ theme }) => theme.value.shadow};\n\tcolor: ${({ theme }) => theme.value.colors.text};\n`;\n\nexport const Option = styled.span`\n\twidth: 100%;\n\tpadding: 8px 32px;\n\n\t/* background: ${({ theme, activeOption }) => (activeOption) ? theme.value.colors.scroll : theme.value.colors.elements}; */\n\t/* background: ${({ theme }) => theme.value.colors.elements}; */\n\tcolor: ${({ theme }) => theme.value.colors.text};\n\n\tcursor: pointer;\n`;\n","import React, { useCallback, useRef, useState } from 'react';\nimport { FaAngleDown } from 'react-icons/fa';\n\nimport { Container, SelectionBox, Option } from './styles';\n\ninterface DropdownProps {\n\tclassName?: string;\n\tlabel?: string;\n\tlist: { value: any, label: string }[];\n\tinitialListItemIndex?: number;\n\tonSelectedValueChange: (value: any) => void;\n}\n\nconst Dropdown: React.FC<DropdownProps> = ({ label, list, initialListItemIndex, onSelectedValueChange, className }) => {\n\tconst [visible, setVisible] = useState(false);\n\tconst [activeItem, setActiveItem] = useState(() => {\n\t\tif (initialListItemIndex)\n\t\t\treturn { label: list[initialListItemIndex].label, index: initialListItemIndex }\n\t\telse\n\t\t\treturn { label, index: -1 }\n\t});\n\n\tconst containerRef = useRef<HTMLDivElement>(null);\n\n\tconst handleOpenSelectionBox = useCallback(() => {\n\t\tsetVisible(true);\n\t\tcontainerRef.current?.focus();\n\t}, [setVisible, containerRef]);\n\n\tconst handleCloseSelectionBox = useCallback(() => {\n\t\tsetVisible(false);\n\t\tcontainerRef.current?.blur();\n\t}, [setVisible, containerRef]);\n\n\tconst handleSelectItem = useCallback((index: number) => {\n\t\tsetActiveItem({ label: list[index].label, index });\n\t\thandleCloseSelectionBox();\n\n\t\tonSelectedValueChange(list[index].value);\n\t}, [setActiveItem, handleCloseSelectionBox, onSelectedValueChange]);\n\n\treturn (\n\t\t<Container\n\t\t\tclassName={className}\n\t\t\tonFocus={handleOpenSelectionBox}\n\t\t\tonBlur={handleCloseSelectionBox}\n\t\t\ttabIndex={1}\n\t\t\tref={containerRef}\n\t\t>\n\t\t\t<label>{activeItem.label}</label>\n\t\t\t<FaAngleDown size={22} />\n\t\t\t{visible &&\n\t\t\t\t<SelectionBox>\n\t\t\t\t\t{list.map(({ label }, index) => (\n\t\t\t\t\t\t<Option\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonClick={() => handleSelectItem(index)}\n\t\t\t\t\t\t\t// activeOption={activeItem.index === index}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</Option>\n\t\t\t\t\t))}\n\t\t\t\t</SelectionBox>\n\t\t\t}\n\t\t</Container>\n\t);\n}\n\nexport default Dropdown;\n","import styled from 'styled-components';\n\nimport Info from '../Info';\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\talign-items: flex-start;\n\tjustify-content: flex-start;\n\n\tmax-width: 280px;\n\theight: 360px;\n\toverflow-y: auto;\n\tpadding-bottom: 40px;\n\tborder-radius: ${({ theme }) => theme.value.borderRadius};\n\n\tbackground: ${({ theme }) => theme.value.colors.elements};\n\tbox-shadow: ${({ theme }) => theme.value.shadow};\n\n\t::-webkit-scrollbar {\n\t\twidth: 6px;\n\t}\n\n\t::-webkit-scrollbar-thumb {\n\t\tbackground: ${({ theme }) => theme.value.colors.scroll};\n\t\tborder-radius: 3px;\n\t}\n`;\n\nexport const Name = styled.strong`\n\tmargin: 24px;\n\tfont-size: 20px;\n\tfont-weight: 800;\n\n\tcolor: ${({ theme }) => theme.value.colors.text};\n`;\n\nexport const Flag = styled.img`\n\twidth: 100%;\n\n\tborder-top-left-radius: ${({ theme }) => theme.value.borderRadius};\n\tborder-top-right-radius: ${({ theme }) => theme.value.borderRadius};\n`;\n\nexport const StyledInfo = styled(Info)`\n\tmargin-left: 24px;\n`;\n","import React from 'react';\n\nimport { Container, Name, Flag, StyledInfo } from './styles';\n\ninterface CountryCardProps {\n\tclassName?: string;\n\tflagURL: string;\n\tcountryName: string;\n\tpopulation: number;\n\tregion: string;\n\tcapital: string;\n}\n\nconst CountryCard: React.FC<CountryCardProps> = ({ countryName, flagURL, population, region, capital, className }) => {\n\treturn (\n\t\t<Container className={className}>\n\t\t\t<Flag src={flagURL} alt=\"\"/>\n\t\t\t<Name>{countryName}</Name>\n\t\t\t<StyledInfo infoKey=\"Population\" infoValue={population} />\n\t\t\t<StyledInfo infoKey=\"Region\" infoValue={region} />\n\t\t\t<StyledInfo infoKey=\"Capital\" infoValue={capital} />\n\t\t</Container>\n\t);\n}\n\nexport default CountryCard;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { RouteComponentProps, Link } from '@reach/router';\nimport styled from 'styled-components';\n\nimport Header from '../components/Header';\nimport Search from '../components/Search';\nimport Dropdown from '../components/Dropdown';\nimport CountryCard from '../components/CountryCard';\n\nimport countriesAPI from '../services/countriesAPI';\n\nconst Container = styled.div`\n\tdisplay: flex;\n\tflex-flow: column nowrap;\n\tflex-basis: 100%;\n\talign-items: center;\n\tjustify-content: flex-start;\n`;\n\nconst StyledSearch = styled(Search)`\n\tflex-shrink: 4;\n`;\n\nconst SearchContainer = styled.div`\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\tflex-basis: 100%;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 32px;\n\n\tmax-width: ${({ theme }) => theme.value.maxPageWidth};\n\twidth: 100%;\n\tmargin: 48px 0px;\n\tpadding: 0px 40px;\n\n\t@media (max-width: 575px) {\n\t\tflex-wrap: wrap;\n\t\tgap: 16px;\n\t}\n`;\n\nconst CountryCardContainer = styled.div`\n\tdisplay: flex;\n\tflex-flow: row wrap;\n\tflex-basis: 100%;\n\talign-items: flex-start;\n\tjustify-content: space-evenly;\n\n\tmax-width: ${({ theme }) => theme.value.maxPageWidth};\n\twidth: 100%;\n\tgap: 32px;\n\tmargin-bottom: 32px;\n\tpadding: 0px 40px;\n\n\t@media (max-width: 575px) {\n\t\tmargin-bottom: 18px;\n\t\tgap: 18px;\n\t}\n`;\n\nconst StyledLink = styled(Link)`\n\ttext-decoration: none;\n`;\n\nconst StyledCountryCard = styled(CountryCard)`\n\t@media (max-width: 575px) {\n\t\tmax-width: 200px;\n\t\tmax-height: 310px;\n\t}\n`;\n\nconst regions = [\n\t{ value: 'africa', label: 'Africa' },\n\t{ value: 'americas', label: 'America' },\n\t{ value: 'asia', label: 'Asia' },\n\t{ value: 'europe', label: 'Europe' },\n\t{ value: 'oceania', label: 'Oceania' }\n];\n\nconst regionsToIndex = {\n\tafrica: 0,\n\tamericas: 1,\n\tasia: 2,\n\teurope: 3,\n\toceania: 4,\n};\n\ninterface CountryData {\n\tname: string;\n\tflag: string;\n\tpopulation: number;\n\tregion: string;\n\tcapital: string;\n\talpha3Code: string;\n}\n\n\nconst Home: React.FC<RouteComponentProps> = ({ location }) => {\n\tconst [countryDataState, setCountryDataState] = useState<CountryData[]>([]);\n\tconst [params, ] = useState(() => {\n\t\tconst searchParams = new URLSearchParams(location?.search);\n\t\tconst searchRegion = searchParams.get('region') as 'africa' | 'americas' | 'asia' | 'europe' | 'oceania';\n\n\t\treturn {\n\t\t\tsearchParams,\n\t\t\tname: searchParams.get('name'),\n\t\t\tregion: searchRegion?.match(/^(africa|americas|asia|europe|oceania)$/) ? searchRegion : undefined,\n\t\t}\n\t});\n\n\n\tuseEffect(() => {\n\t\tasync function loadCountries() {\n\t\t\tlet response;\n\t\t\tif (params.name) {\n\t\t\t\tresponse = await countriesAPI.get<CountryData[]>(`/name/${params.name}?fields=name;population;region;capital;flag;alpha3Code`);\n\t\t\t} else if (params.region) {\n\t\t\t\tresponse = await countriesAPI.get<CountryData[]>(`/region/${params.region}?fields=name;population;region;capital;flag;alpha3Code`);\n\t\t\t} else {\n\t\t\t\tresponse = await countriesAPI.get<CountryData[]>('/all?fields=name;population;region;capital;flag;alpha3Code');\n\t\t\t}\n\t\t\tconst { data } = response;\n\t\t\tsetCountryDataState(data);\n\t\t}\n\t\tloadCountries();\n\t}, [params]);\n\n\tconst handleSearchValueChange = useCallback(async (searchValue: string) => {\n\t\ttry {\n\t\t\tconst response = await countriesAPI\n\t\t\t\t.get<CountryData[]>(`/name/${searchValue}?fields=name;population;region;capital;flag;alpha3Code`);\n\t\t\tconst { data } = response;\n\t\t\tsetCountryDataState(data);\n\t\t} catch (err) {\n\t\t\tsetCountryDataState([]);\n\t\t}\n\t}, []);\n\n\tconst handleDropdownSelectionChange = useCallback(async (selectedValue: typeof regions[number]['value']) => {\n\t\ttry {\n\t\t\tconst response = await countriesAPI\n\t\t\t\t.get<CountryData[]>(`/region/${selectedValue}?fields=name;population;region;capital;flag;alpha3Code`);\n\t\t\tconst { data } = response;\n\t\t\tsetCountryDataState(data);\n\t\t} catch (err) {\n\t\t\tsetCountryDataState([]);\n\t\t}\n\t}, []);\n\n  return (\n\t\t<Container>\n\t\t\t<Header />\n\t\t\t<SearchContainer>\n\t\t\t\t<StyledSearch\n\t\t\t\t\tdebounce={500}\n\t\t\t\t\tonSearchValueChange={handleSearchValueChange}\n\t\t\t\t\tinitialValue={params.name as string}\n\t\t\t\t\tplaceholder=\"Search for a country...\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t/>\n\t\t\t\t<Dropdown\n\t\t\t\t\tlabel=\"Filter by Region\"\n\t\t\t\t\tlist={regions}\n\t\t\t\t\tinitialListItemIndex={(params.region) ? regionsToIndex[params.region] : undefined}\n\t\t\t\t\tonSelectedValueChange={handleDropdownSelectionChange}\n\t\t\t\t/>\n\t\t\t</SearchContainer>\n\t\t\t<CountryCardContainer>\n\t\t\t\t{countryDataState.map((countryData, index) => (\n\t\t\t\t\t<StyledLink key={index} to={`/countries/${countryData.alpha3Code.toLowerCase()}`}>\n\t\t\t\t\t\t<StyledCountryCard\n\t\t\t\t\t\t\tflagURL={countryData.flag}\n\t\t\t\t\t\t\tcountryName={countryData.name}\n\t\t\t\t\t\t\tpopulation={countryData.population}\n\t\t\t\t\t\t\tregion={countryData.region}\n\t\t\t\t\t\t\tcapital={countryData.capital}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</StyledLink>\n\t\t\t\t))}\n\t\t\t</CountryCardContainer>\n\t\t</Container>\n\t)\n}\n\nexport default Home;\n"],"sourceRoot":""}